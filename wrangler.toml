# Cloudflare Pages configuration with @cloudflare/next-on-pages
name = "k-system"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

# Pages configuration
pages_build_output_dir = ".vercel/output/static"

[build]
command = "npx @cloudflare/next-on-pages"

# Observability
[observability]
enabled = true

# Environment variables for Cloudflare Workers
# Add your actual values in Cloudflare Dashboard > Pages > Settings > Environment variables
[vars]
# Example variables - configure actual values in Cloudflare Dashboard
INFLUX_HOST = "https://your-influx-host.com"
INFLUX_ORG = "K-Energy_Save"
INFLUX_BUCKET = "k_db"
GRAFANA_URL = "https://your-grafana-host.com"

# IMPORTANT: Use Wrangler secrets for sensitive values:
# wrangler secret put INFLUX_TOKEN
# wrangler secret put ADMIN_WEBHOOK_TOKEN
# wrangler secret put INFLUX_WRITE_TOKEN

# Or configure in Cloudflare Dashboard:
# Pages > Settings > Environment variables > Add variable (encrypted)
